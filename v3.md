# 🔄 Theme Search v2→v3 아키텍처 전환 계획

## 🎯 전체 비전

1단계 nas 의 Eng_media 의 자막과 미디어를 DB 화.

2단계 문장 검색하여 클리핑 기능 개발
웹 표준 포맷(aac, x264)으로 '정확히' 일치하는 문장 클리핑하고, 자막과 메타 정보를 .json 에 저장.

3단계
3-1. 워크스페이스 관리 페이지
- 컨텐츠를 작성할 소스를 관리할 페이지.
- 워크스페이스(작업디렉토리, 즐겨찾기 폴더 개념)
- DB에 연동돼있기 때문에 자막을 수정하면, DB에도 반영.

사용 시나리오
예를들어 드라마 영어 100문장이라는 워크스페이스에는 내가 추가한 DB 의 100 문장이 들어있다.
- 이 100문장에서 자막을 편집하거나, 한글번역(번역 api 또는 직접 수정), 해설, 한국어 발음등을 편집할 수 있다.
- 일괄 선택하여, 삭제할 수도 있고, 일괄 선택하여 번역이나 해설 추가를 할 수 도 있다. (ai 활용 등)
- 스프레드 시트 스타일 라이브러리 활용. ( 외부에서도 복붙할 수 있도록 하기 위함.)
ex) 자막id(수정불가)| 영화제목 | 영어자막 | 한글자막 | 해설 | 한국어 발음 | 카테고리  태그 등

클리핑하면, 작업폴더 태그입력(db 에는 working_dir 필드, json 에는 working_dir 항목으로 저장) <--working_dir 이 없는 클립과 구분하기 위함>

3-2 편집 및 렌더링

3-1 클리핑한 mp4와 json (영어,한국어, 해설, 한글발음, 태그)  으로, 유튜브 컨텐츠를 만든다.

ex) 디즈니 100문장 (작업폴더) 로, 영어 쉐도윙 영상을 만드는 경우.
ai 가 ffmpeg 옵션에 실수를 많이 하기 때문에, 폼과 연동되는 json 파일을 템플릿형태로 저장하여 생성.

기본 틀은 FHD 16:9 또는 쇼츠 검정 배경에 미디어 fit, NotoSans ko, FHD 임을 고려하여, 텍스트 크기 약 84 px (1px 테두리)

각각 영어,한글, 해설, 한글 발음 포함 여부 선택 가능
1회 :  
2회 : 
3회 :
.
.
.  
ffmpeg 렌더링